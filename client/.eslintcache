[{"/Users/TylerWinstead/Desktop/code/Dog-Ear_v2/client/src/index.js":"1","/Users/TylerWinstead/Desktop/code/Dog-Ear_v2/client/src/App.js":"2"},{"size":484,"mtime":1609027700211,"results":"3","hashOfConfig":"4"},{"size":2508,"mtime":1609532416463,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"8"},"1yhrrie",{"filePath":"9","messages":"10","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"11"},"/Users/TylerWinstead/Desktop/code/Dog-Ear_v2/client/src/index.js",[],["12","13"],"/Users/TylerWinstead/Desktop/code/Dog-Ear_v2/client/src/App.js",["14","15","16","17","18","19","20","21","22"],"import React, {useEffect, useState, useRef} from 'react';\n// import axios from 'axios';\n\nfunction App() {\n\n  const [url, setUrl] = useState('https://food52.com/recipes/84669-doubletree-cookies-recipe');\n  const [crawlingStatus, setCrawlingStatus] = useState(null);\n  const [data, setData] = useState(null);\n  const [taskID, setTaskID] = useState(null);\n  const [uniqueID, setUniqueID] = useState(null);\n  // const [statusInterval, setStatusInterval] = useState(1);\n  let statusInterval = 1;\n\n  // useEffect(() => {\n  //   statusInterval = setInterval(checkCrawlStatus, 2000)\n  //   return () => clearInterval(statusInterval)\n  // }, [taskID, uniqueID, crawlingStatus])\n\n  async function startCrawl() {\n    if(!url) {\n      return false;\n    }\n    const response = await fetch('api/crawl/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({method: 'POST', url: url}) \n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log('Success:', data)\n        setTaskID(data.task_id)\n        setUniqueID(data.unique_id)\n        setCrawlingStatus(data.status)\n        statusInterval = setInterval(() => checkCrawlStatus(data.task_id, data.unique_id), 2000)\n      })\n      // .then(statusInterval = setInterval(checkCrawlStatus, 2000))\n      .catch((error) => console.error('Error:', error));\n  }\n\n  async function checkCrawlStatus(task_id, unique_id) {\n    console.log(\"Checking Crawl Status\")\n    console.log(task_id, unique_id)\n    const data = JSON.stringify({\n      method: 'GET', \n      task_id: task_id, \n      unique_id: unique_id\n    })\n    // Making a request to server to ask status of crawling job\n    const response = await fetch('api/crawl/', \n    {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },  \n        body: data  \n      }, \n      data\n      )\n      .then(response => response.json())\n      .then(data => {\n        console.log(data)\n        if (data.data) {\n          clearInterval(statusInterval)\n          setData(data.data)\n        } else if (data.error) {\n          clearInterval(statusInterval)\n          console.log(data.error)\n        } else if (data.status) {\n          setCrawlingStatus(data.status)\n        }\n      })\n  }\n\n  return (\n    <div className=\"App\">\n      <button onClick={() => startCrawl()}>Click Me!</button>\n      <p>Be sure to change USER_AGENT in Settings before deploying</p>\n    </div>\n  );\n}\n\nexport default App;\n",{"ruleId":"23","replacedBy":"24"},{"ruleId":"25","replacedBy":"26"},{"ruleId":"27","severity":1,"message":"28","line":1,"column":16,"nodeType":"29","messageId":"30","endLine":1,"endColumn":25},{"ruleId":"27","severity":1,"message":"31","line":1,"column":37,"nodeType":"29","messageId":"30","endLine":1,"endColumn":43},{"ruleId":"27","severity":1,"message":"32","line":6,"column":15,"nodeType":"29","messageId":"30","endLine":6,"endColumn":21},{"ruleId":"27","severity":1,"message":"33","line":7,"column":10,"nodeType":"29","messageId":"30","endLine":7,"endColumn":24},{"ruleId":"27","severity":1,"message":"34","line":8,"column":10,"nodeType":"29","messageId":"30","endLine":8,"endColumn":14},{"ruleId":"27","severity":1,"message":"35","line":9,"column":10,"nodeType":"29","messageId":"30","endLine":9,"endColumn":16},{"ruleId":"27","severity":1,"message":"36","line":10,"column":10,"nodeType":"29","messageId":"30","endLine":10,"endColumn":18},{"ruleId":"27","severity":1,"message":"37","line":23,"column":11,"nodeType":"29","messageId":"30","endLine":23,"endColumn":19},{"ruleId":"27","severity":1,"message":"37","line":51,"column":11,"nodeType":"29","messageId":"30","endLine":51,"endColumn":19},"no-native-reassign",["38"],"no-negated-in-lhs",["39"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useRef' is defined but never used.","'setUrl' is assigned a value but never used.","'crawlingStatus' is assigned a value but never used.","'data' is assigned a value but never used.","'taskID' is assigned a value but never used.","'uniqueID' is assigned a value but never used.","'response' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]